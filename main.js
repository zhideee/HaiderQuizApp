
data = `[
    {
        "frage" : "Wie heißt der Wongl?",
        "A1" : "Rainer*",
        "A2" : "Reiner",
        "A3" : "Rudi"
    },
    {
        "frage" : "Welche Hausnummer hat der Oger?",
        "A1" : "1",
        "A2" : "8*",
        "A3" : "7"
    },
    {
        "frage" : "Wie hieß des Lords Vater?",
        "A1" : "Rudolf",
        "A2" : "Ralf",
        "A3" : "Rudi*"
    },
    {
        "frage" : "Wie lautet der Wohnort des Ogers?",
        "A1" : "Emskirchen*",
        "A2" : "Dresden",
        "A3" : "Flachau"
    },
    {
        "frage" : "Wie hieß des Lords Vater?",
        "A1" : "Rudolf",
        "A2" : "Ralf",
        "A3" : "Rudi*"
    },
    {
        "frage" : "Wann startete der Oger seinen Kanal?",
        "A1" : "2010",
        "A2" : "2012*",
        "A3" : "2011"
    },
    {
        "frage" : "Wann verriet der Wongl seine Adresse?",
        "A1" : "2014*",
        "A2" : "2013",
        "A3" : "2015"
    },
    {
        "frage" : "Wann fand der erste Besuch statt?",
        "A1" : "2013",
        "A2" : "2015*",
        "A3" : "2014"
    },
    {
        "frage" : "Wann täuschte der Wongl seinen Tod vor?",
        "A1" : "2015*",
        "A2" : "2016",
        "A3" : "2017"
    },
    {
        "frage" : "Wann erstellte Rainer seinen X-Hamster Account?",
        "A1" : "2017*",
        "A2" : "2018",
        "A3" : "2019"
    },
    {
        "frage" : "Wann erstellte der Oger seinen PH-Account?",
        "A1" : "2016",
        "A2" : "2017",
        "A3" : "2018*"
    },
    {
        "frage" : "Wann wurde das Tor des Ogers zerstört?",
        "A1" : "2019",
        "A2" : "2020*",
        "A3" : "2021"
    },
    {
        "frage" : "Wann bekam Rainer den 100k Playbutton?",
        "A1" : "Februar 2019",
        "A2" : "März 2020",
        "A3" : "Mai 2021*"
    },
    {
        "frage" : "In welchem Monat fand 2018 das Schanzenfest statt?",
        "A1" : "Mai",
        "A2" : "August*",
        "A3" : "September"
    },
    {
        "frage" : "Wann verlor der Oger einen Zahn?",
        "A1" : "2017*",
        "A2" : "2018",
        "A3" : "2019"
    },
    {
        "frage" : "Wann bekam Rainerle seinen YouNow Abo-Button?",
        "A1" : "2016",
        "A2" : "2017*",
        "A3" : "2018"
    },
    {
        "frage" : "Wie lange hatte Rainer 2016 keinen Strom?",
        "A1" : "3 Monate",
        "A2" : "7 Monate",
        "A3" : "5 Monate*"
    },
    {
        "frage" : "Welches Werkzeug hat Rainerle 2016 geworfen?",
        "A1" : "Hammer",
        "A2" : "Axt*",
        "A3" : "Säge"
    },
    {
        "frage" : "Wann verstarb Rainers Vater?",
        "A1" : "Juli 2012*",
        "A2" : "August 2010",
        "A3" : "Februar 2007"
    },
    {
        "frage" : "Wann gab es das erste Besuchervideo?",
        "A1" : "2014",
        "A2" : "2015*",
        "A3" : "2016"
    },
    {
        "frage" : "Wann erstellte der Wongl seinen Gaming-Kanal?",
        "A1" : "2014*",
        "A2" : "2015",
        "A3" : "2017"
    },
    {
        "frage" : "Wieviel wiegt der Oger?",
        "A1" : "100kg - 120kg",
        "A2" : "140kg - 150kg*",
        "A3" : "150kg - 160kg"
    },
    {
        "frage" : "Welches Tier ist laut Rainerle ziemlich episch?",
        "A1" : "Drache",
        "A2" : "Hamster*",
        "A3" : "Löwe"
    },
    {
        "frage" : "Wann besuchte Boneclinks des Drachens Schanze?",
        "A1" : "Juli 2017*",
        "A2" : "Juni 2018",
        "A3" : "August 2018"
    },
    {
        "frage" : "Wie lang ging Boneclinks Besuchervideo?",
        "A1" : "10 min",
        "A2" : "15 min",
        "A3" : "25 min*"
    },
    {
        "frage" : "Wie lautet die richtige Domain?",
        "A1" : "Drachiv.de",
        "A2" : "Drachiv.com",
        "A3" : "Drachiv.eu*"
    },
    {
        "frage" : "Zu welchem Anlass wurde Skrrr Skrrr veröffentlicht?",
        "A1" : "Sein neuer Audi",
        "A2" : "kein besonderer Anlass",
        "A3" : "100k Abos*"
    },
    {
        "frage" : "Wieviele Aufrufe hat Skrrr Skrrr? Stand 09.07.2021 Juli 2021?",
        "A1" : "1,9M Aufrufe*",
        "A2" : "770k Aufrufe",
        "A3" : "2,3M Aufrufe"
    },
    {
        "frage" : "Welches Auto ist das MeddlMobil?",
        "A1" : "Blauer 3er BMW",
        "A2" : "Roter Audi A4*",
        "A3" : "Schwarzer VW Golf"
    },
    {
        "frage" : "Wem stellte der Wongl den legendären Antrag?",
        "A1" : "Erdbeerchen*",
        "A2" : "DrachenLady",
        "A3" : "Äpfelchen"
    },
    {
        "frage" : "Welche Sexualität hat der Oger?",
        "A1" : "Heterosexuell",
        "A2" : "Homosexuell",
        "A3" : "Bisexuall*"
    },
    {
        "frage" : "Was geschah am Mettwoch?",
        "A1" : "Haider griffen im Stream an",
        "A2" : "Drachenlord verletzte sich",
        "A3" : "Oger stellte den Antrag*"
    }
]`

var currenQ = {}
currenQ.score = 0
currenQ.start = 1

highscore = parseInt(document.cookie.replace('highscore=', ''))
document.getElementById('highscore').innerHTML = highscore

function randomIntFromInterval(min, max) { 
    return Math.floor(Math.random() * (max - min + 1) + min)
}

function resetColor(id) {
    document.getElementById(id).style.border = '10px solid rgb(207, 100, 143)';
    document.getElementById(id).style.backgroundColor = '#d487a6'
}

function disableAll() {
    document.getElementById('Antwort1').disabled = true
    document.getElementById('Antwort2').disabled = true
    document.getElementById('Antwort3').disabled = true
}

function enableAll() {
    document.getElementById('Antwort1').disabled = false
    document.getElementById('Antwort2').disabled = false
    document.getElementById('Antwort3').disabled = false

}

function next(){
    var Fragen = JSON.parse(data);
    var len = data.replace(/[^{]/g, "").length
    var random_num = randomIntFromInterval(0, len - 1)

    enableAll()

    if (document.cookie == "") {
        document.cookie = "highscore=0"
    }

    if (currenQ.start === 1) {
        document.getElementById('hs').style.display = 'none';
        document.getElementById('dragon').style.display = 'none';
        document.getElementById('score').style.display = 'block';
        document.getElementById('frage').style.display = 'block';
        document.getElementById('Antwort1').style.display = 'inline-block';
        document.getElementById('Antwort2').style.display = 'inline-block';
        document.getElementById('Antwort3').style.display = 'inline-block';
        document.getElementById('button').innerHTML = 'Weiter'
    }

    currenQ.num = random_num
    console.log(random_num)

    document.getElementById('frage').innerHTML = Fragen[random_num].frage;

    resetColor('Antwort1')
    resetColor('Antwort2')
    resetColor('Antwort3')

    document.getElementById('Antwort1').innerHTML = Fragen[random_num].A1.replace("*", "");
    document.getElementById('Antwort2').innerHTML = Fragen[random_num].A2.replace("*", "");
    document.getElementById('Antwort3').innerHTML = Fragen[random_num].A3.replace("*", "");
    document.getElementById('button').disabled = true
    document.getElementById('button').style.color = 'grey'
}

function checkanswer(number) {
    var Fragen = JSON.parse(data);
    
    document.getElementById('button').disabled = false
    document.getElementById('button').style.color = 'black'

    disableAll()

    if(number === 1) {
        antwort = Fragen[currenQ.num].A1

        if (antwort.includes("*")) {
            document.getElementById('Antwort1').style.backgroundColor = "green";
            document.getElementById('Antwort1').style.border = "10px solid rgb(60, 179, 13";
            Score = currenQ.score + 1
            currenQ.score = Score
            document.getElementById('score').innerHTML = Score;
    
        }
        else{
            document.getElementById('Antwort1').style.backgroundColor = "red"
            document.getElementById('Antwort1').style.border = "10px solid rgb(194, 67, 67)"
            var Score = currenQ.score = 0
            document.getElementById('score').innerHTML = Score
    
            if (Fragen[currenQ.num].A2.includes("*")){
                document.getElementById('Antwort2').style.backgroundColor = "green";
                document.getElementById('Antwort2').style.border = "10px solid rgb(60, 179, 13";
            }
            if (Fragen[currenQ.num].A3.includes("*")){
                document.getElementById('Antwort3').style.backgroundColor = "green";
                document.getElementById('Antwort3').style.border = "10px solid rgb(60, 179, 13";
            }
            
        }
    
    }

    if (number === 2) {
        antwort = Fragen[currenQ.num].A2

        if (antwort.includes("*")) {
            document.getElementById('Antwort2').style.backgroundColor = "green";
            document.getElementById('Antwort2').style.border = "10px solid rgb(60, 179, 13";
            Score = currenQ.score + 1
            currenQ.score = Score
            document.getElementById('score').innerHTML = Score;
    
        }
        else{
            document.getElementById('Antwort2').style.backgroundColor = "red"
            document.getElementById('Antwort2').style.border = "10px solid rgb(194, 67, 67)"
            var Score = currenQ.score = 0
            document.getElementById('score').innerHTML = Score
    
            if (Fragen[currenQ.num].A1.includes("*")){
                document.getElementById('Antwort1').style.backgroundColor = "green";
                document.getElementById('Antwort1').style.border = "10px solid rgb(60, 179, 13";
            }
            if (Fragen[currenQ.num].A3.includes("*")){
                document.getElementById('Antwort3').style.backgroundColor = "green";
                document.getElementById('Antwort3').style.border = "10px solid rgb(60, 179, 13";
            }

        }
    
    }

    if (number === 3) {
        antwort = Fragen[currenQ.num].A3

        if (antwort.includes("*")) {
            document.getElementById('Antwort3').style.backgroundColor = "green";
            document.getElementById('Antwort3').style.border = "10px solid rgb(60, 179, 13";
            Score = currenQ.score + 1
            currenQ.score = Score
            document.getElementById('score').innerHTML = Score;
    
        }
        else{
            document.getElementById('Antwort3').style.backgroundColor = "red"
            document.getElementById('Antwort3').style.border = "10px solid rgb(194, 67, 67)"
            var Score = currenQ.score = 0
            document.getElementById('score').innerHTML = Score
    
            if (Fragen[currenQ.num].A1.includes("*")){
                document.getElementById('Antwort1').style.backgroundColor = "green";
                document.getElementById('Antwort1').style.border = "10px solid rgb(60, 179, 13";
            }
            if (Fragen[currenQ.num].A2.includes("*")){
                document.getElementById('Antwort2').style.backgroundColor = "green";
                document.getElementById('Antwort2').style.border = "10px solid rgb(60, 179, 13";
            }

        }
    }

    highscore = parseInt(document.cookie.replace('highscore=', ''))

    if (currenQ.score > highscore) {
        document.cookie = "highscore=" + currenQ.score
    }

    console.log(document.cookie)

}

